# This is a guide to help you recap everything

## Files structure

- `src`
  Contains everything related to our project
  - `app`
    Contains the routes/pages of the project
    - `_lib`
      This route is hidden by default (private)
      - `page.tsx`
      This page won't be displayed as a separate route, instead it's just a file
    - `%5Funderscore`
      This is how to have `_` in a route
      - `page.tsx`
    - `about`
      An example of a normal route that has a `page.[t|j]sx` file that exports a react component and it represents a page
      - `page.tsx`
        An example of a route page
    - `profile`
      - `page.tsx`
    - `dashboard`
      - `page.tsx`
      The default export will be the page shown for `/dashboard` endpoint
      - `table.tsx`
        We can have any components in the same page route and they will be hidden from the users and we can still use them inside the pages through using them in a component, it's usefull for related route components to be used on the same page
    - `(auth)`
      Used to have specific styles/configs for this group of routes
      - `forgot-password`
        - `page.tsx`
      - `register`
        - `page.tsx`
      - `login`
        - `page.tsx`
    - `products`
      - `[productid]`
        This is a parameter that matches any value for `productid` in `/products/<productid>` if it's not found as a folder (e.g `/products/special`)
        - `reviews`
          - `page.tsx`
            - `[reviewid]`
              - `page.tsx`
              - `not-found.tsx`
        We can have a special `not-found` page using this file for this specific path - `page.tsx`
      - `special`
      This matches first then `[productid]`
        - `page.tsx`
      - `page.tsx`
    - `blog`
      - `first`
        - `page.tsx`
      - `second`
        - `page.tsx`
      - `page.tsx`
    - `docs`
      - `[[...slug]]`
        This matches `/docs`,`/docs/<path>`, `/docs/<any>/<path>`, `/docs/<any>/<long>/<path>` ..etc - `page.tsx`
  - `layout.tsx`
    To apply a layout to all routes, and it's auto generated by "next" if we don't create one
  - `not-found.tsx`
    We can have a custom `not-found` page using this file and it will be applied to the sub-routes
  - `page.tsx`
    The home page

## Important notes

<!-- ### To enable TailwindCSS
You need to `import './globals.css'` in a `page.tsx` or a `layout.tsx` -->
### How NextJs structures the files that are on the same level
- path
  - layout.tsx
  - template.tsx
  - error.tsx
  - loading.tsx
  - not-found.tsx
  - page.tsx
```tsx
<>
  <Layout>
    <Template>
      <ErrorBoundary fullback={<Error />}>
        <Suspense fallback={<Loading />}>
          <ErrorBoundary fullback={<NotFound />}>
            <Page />
          </ErrorBoundary>
        </Suspense>
      </ErrorBoundary>
    </Template>
  </Layout>
</>
```
## Files/Folders guide

<!-- ### src
This folder contains everything we mainly focus on

Like tsx/jsx files for generating the html and js files for our pages

### layout.tsx
This has common designs and components that all pages share

### page.tsx
This represents a page -->

### Parallel routes
When we have a page with more than one component and we want to update each one based on the current route separately
#### Example
In the `/dashboard` route we have the components `@users` & `@revenue` unchanged don't have an `/archived` route but have `default.tsx` files

The files `default.tsx` will appeare when we first visit the route `/dashboard/archived` then `page.tsx` is used

We have for `@revenue` only `default.tsx` file to make sure we have this content the same on all routes

### Intercepted routes
- `(.)route` to match segments on the same level
- `(..)route` to match segments one level above
- `(..)(..)route` to match segments two levels above
- `(...)route` to match segments from the root app

While being on route `/x` and want to go to route `/y` and we have at the same level of the page of the route `/x` a folder with the name `(.)y` this folder will be a replacement of the normal/default route of `/y` but if we refresh the page or visit it from outside the path of `/x` route, it will render the normal/default route
<!-- 
`(..)route`

While being on route `/x` and want to go to route `/y` and we have at the same level of the page of the route `/x` a folder with the name `(.)y` this folder will be a replacement of the normal/default route of `/y` but if we refresh the page or visit it from outside the path of `/x` route, it will render the normal/default route -->

#### Example 1 (.)route
In the path `/posts` we have `page.tsx` this will render when we first go to the endpoint `/posts` and if we navigate to `/posts/post/[postid]` it will still be rendered

If we refresh the page (While we are at `/posts/post/[postid]`) or visit `/posts/post/[postid]` from outside `/posts` path, the default page (`/posts/default.tsx`) will be rendered

For `/posts/@post`:
- on the route `/posts` this file `/posts/@post/page.tsx` will be rendered
- on the route `/posts/post/[postid]`
  - If we are coming from `/posts` this file `/posts/(.)post/[postid]/page.tsx` will be rendered
  - If we are coming from any other place (like refreshing the page, visiting the route for the fist time in this session or visiting the route from outside `/posts` e.g from `/about`) this file `/posts/post/[postid]/page.tsx` will be rendered

#### Example 2 (..)route
In the path `/blog` we have `page.tsx` this will render when we first go to the endpoint `/blog` and if we navigate to `/blog/first` the file `/blog/first/page.tsx` will be rendered then if we navigate to `/blog/second` (from `/blog/first` or sub paths like from `/blog/first/third`) the file `/blog/first/(..)second/page.tsx` will be rendered (instead of `/blog/second/page.tsx)

If we refresh the page (While we are at `/blog/second`) or visit `/blog/second` from outside `/blog/first` paths, the normal page (`/blog/second/page.tsx`) will be rendered

<!-- @todo : Write scenarios like navigating from one route to another... -->

##### Why are you using the Intercepte routes `(.)`,`(..)` ?
To apply different UI and actions from different endpoints.

###### Note : `(..)(..)` is not currently working at the time of writing these docs.
[(..)(..) intercepting routes does not work](https://github.com/vercel/next.js/issues/57016)